<div class="registration-form-container">
  @if (registrationForm) {
    <mat-card>
      <mat-card-header class="d-flex align-items-center justify-content-center">
        <mat-card-title class="fw-semibold">Registration</mat-card-title>
      </mat-card-header>

      @if (this.messageService.message() !== null) {
        <div class="text-danger">{{this.messageService.message()}}</div>
      }

      <form [formGroup]="registrationForm">
        <mat-card-content>
          @if (registrationForm.get("username")?.invalid && registrationForm.get("username")?.touched) {
            @if (registrationForm.get("username")!.hasError("required")) {
              <div class="text-danger">The field cannot be empty</div>
            }
            @if (registrationForm.get("username")!.hasError("pattern")) {
              <div class="text-danger">Only letters and " _ " , " - " are available</div>
            }
            @if (registrationForm.get("username")!.hasError("checkUsername")) {
              <div class="text-danger">The username is already taken</div>
            }
          }
          <input type="text" formControlName="username" placeholder="Enter username" class="form-control mb-3">

          @if (registrationForm.get("password")?.invalid && registrationForm.get("password")?.touched) {
            @if (registrationForm.get("password")!.hasError("required")) {
              <div class="text-danger">The field cannot be empty</div>
            }
            @if (registrationForm.get("password")!.hasError("minlength")) {
              <div class="text-danger">The password must be longer than 6 characters</div>
            }
          }
          <input type="password" formControlName="password" placeholder="Enter password" class="form-control mb-3">

          @if (registrationForm.get("firstName")?.invalid && registrationForm.get("firstName")?.touched) {
            @if (registrationForm.get("firstName")!.hasError("required")) {
              <div class="text-danger">The field cannot be empty</div>
            }
            @if (registrationForm.get("firstName")!.hasError("pattern")) {
              <div class="text-danger">Only letters and " _ " , " - " are available</div>
            }
          }
          <input type="text" formControlName="firstName" placeholder="Enter name" class="form-control mb-3">

          @if (registrationForm.get("lastName")?.invalid && registrationForm.get("lastName")?.touched) {
            @if (registrationForm.get("lastName")!.hasError("required")) {
              <div class="text-danger">The field cannot be empty</div>
            }
            @if (registrationForm.get("lastName")!.hasError("pattern")) {
              <div class="text-danger">Only letters and " _ " , " - " are available</div>
            }
          }
          <input type="text" formControlName="lastName" placeholder="Enter surname" class="form-control mb-3">

          @if (registrationForm.get("email")?.invalid && registrationForm.get("email")?.touched) {
            @if (registrationForm.get("email")!.hasError("email")) {
              <div class="text-danger">Incorrect format</div>
            }
            @if (registrationForm.get("email")!.hasError("checkEmail")) {
              <div class="text-danger">The username is already taken</div>
            }
          }
          <input type="email" formControlName="email" placeholder="Enter email" class="form-control mb-3">

          <input type="date" formControlName="birthday" aria-label="Enter birthday" class="form-control mb-3">
        </mat-card-content>
        <mat-card-actions class="d-flex align-items-center justify-content-center">
          <button type="button" mat-stroked-button class="singUpButton" (click)="onSubmit()">SingUp</button>
        </mat-card-actions>
      </form>

    </mat-card>
  } @else {
    <div class="text-center fw-semibold fs-4">Sorry registration is temporarily unavailable</div>
  }

</div>
